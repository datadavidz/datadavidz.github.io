{
  "hash": "2444e3e1bf1f956a25d2ceadbc8a1c0f",
  "result": {
    "markdown": "---\ntitle: \"Exploratory Analysis of the Concrete Dataset\"\ndate: \"2022-08-26\"\n---\n\n::: {.cell}\n\n:::\n\n\nSeveral exploratory data analysis (EDA) packages are used to evaluate the concrete dataset.\n\nIn the previous post, the concrete dataset was introduced.  In this post, we further explore topics such as data completeness, distributions and correlations both with the target variable (compressive strength) and between predictor variables (ingredients).  I use Several R packages which I have found to make this analysis quite simple and efficient: ```skimr```, ```GGally``` and ```correlationFunnel```.\n\n## Load libraries\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(tidyverse)\n\n#EDA\nlibrary(skimr)\nlibrary(GGally)\nlibrary(correlationfunnel)\n```\n:::\n\n\n\nA good first analysis once the dataset is loaded is to use the skimr package to provide an overview of the data columns.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskimr::skim(concrete_tbl)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |             |\n|:------------------------|:------------|\n|Name                     |concrete_tbl |\n|Number of rows           |1030         |\n|Number of columns        |9            |\n|_______________________  |             |\n|Column type frequency:   |             |\n|numeric                  |9            |\n|________________________ |             |\n|Group variables          |None         |\n\n\n**Variable type: numeric**\n\n|skim_variable        | n_missing| complete_rate|   mean|     sd|     p0|    p25|    p50|     p75|   p100|hist  |\n|:--------------------|---------:|-------------:|------:|------:|------:|------:|------:|-------:|------:|:-----|\n|cement               |         0|             1| 281.17| 104.51| 102.00| 192.38| 272.90|  350.00|  540.0|▆▇▇▃▂ |\n|blast_furnace_slag   |         0|             1|  73.90|  86.28|   0.00|   0.00|  22.00|  142.95|  359.4|▇▂▃▁▁ |\n|fly_ash              |         0|             1|  54.19|  64.00|   0.00|   0.00|   0.00|  118.27|  200.1|▇▁▂▂▁ |\n|water                |         0|             1| 181.57|  21.36| 121.75| 164.90| 185.00|  192.00|  247.0|▁▅▇▂▁ |\n|superplasticizer     |         0|             1|   6.20|   5.97|   0.00|   0.00|   6.35|   10.16|   32.2|▇▆▁▁▁ |\n|coarse_aggregate     |         0|             1| 972.92|  77.75| 801.00| 932.00| 968.00| 1029.40| 1145.0|▃▅▇▅▂ |\n|fine_aggregate       |         0|             1| 773.58|  80.18| 594.00| 730.95| 779.51|  824.00|  992.6|▂▃▇▃▁ |\n|age                  |         0|             1|  45.66|  63.17|   1.00|   7.00|  28.00|   56.00|  365.0|▇▁▁▁▁ |\n|compressive_strength |         0|             1|  35.82|  16.71|   2.33|  23.71|  34.44|   46.14|   82.6|▅▇▇▃▁ |\n:::\n:::\n\n\nThe good news is that there were no missing data points in the concrete dataset.  There are concrete compositions with no blast furnace slag, fly ash or superplasticizer.  The age before testing is skewed to lower age before testing.  These observations are further supported looking at the histograms shown below. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nconcrete_tbl %>%\n  pivot_longer(cement:age, names_to=\"ingredient\", values_to = \"amount\") %>%\n  ggplot(aes(x=amount)) +\n  geom_histogram(bins = 30) +\n  facet_wrap(~ingredient, scales = \"free\")\n```\n\n::: {.cell-output-display}\n![](2022-08-26_ConcreteEDA_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n## Variable correlations\n\nNext, we analyze the correlations between variables.  When the amount of one ingredient is increased, we expect one or more of the other ingredients in the concrete mixture to decrease.  So, some correlation between the concrete ingredients is expected.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nGGally::ggcorr(concrete_tbl)\n```\n\n::: {.cell-output-display}\n![](2022-08-26_ConcreteEDA_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nThe correlation analysis showed a strong, positive correlation with cement content and compressive strength and less strong correlations with age with compressive strength and superplasticizer with compressive strength.  An inverse correlation between water and superplasticizer was detected perhaps due to the water content of the superplasticizer requiring less additional water in the formulation.\n\nAnother way of visualizing the correlation of variables with the property you wish to predict is the called a \"correlation funnel\".\n\n\n::: {.cell}\n\n```{.r .cell-code}\nconcrete_tbl %>%\n  binarize(n_bins = 3) %>%\n  correlate(`compressive_strength__41.36856_Inf`) %>%\n  plot_correlation_funnel(interactive = FALSE)\n```\n\n::: {.cell-output-display}\n![](2022-08-26_ConcreteEDA_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nThe correlation funnel shows some degree of correlation between the cement, water, superplasticizer and age with compressive strength.  The fly ash, coarse and fine aggregate and blast furnace slag showed very little correlation with compressive strength.\n\n## Summary\nThis post has shown several techniques for exploring the concrete dataset.  The next post will use a generalized linear modeling approach to predict concrete compressive strength and compare the results with the conventional material modeling approach.  Subsequent articles will use machine learning techniques such as artificial neural networks and extreme gradient boosting.\n\n\n:::{.callout-tip collapse=\"true\"}\n## Expand for Session Info\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'sessioninfo' was built under R version 4.2.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in system(\"quarto --version\", intern = TRUE): running command 'quarto --\nversion' had status 255\n\nWarning in system(\"quarto --version\", intern = TRUE): running command 'quarto --\nversion' had status 255\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.2.0 (2022-04-22 ucrt)\n os       Windows 10 x64 (build 19043)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  English_United States.utf8\n ctype    English_United States.utf8\n tz       America/Chicago\n date     2022-09-01\n pandoc   2.18 @ C:/Program Files/RStudio/bin/quarto/bin/tools/ (via rmarkdown)\n quarto    @ C:\\\\PROGRA~1\\\\RStudio\\\\bin\\\\quarto\\\\bin\\\\quarto.cmd\n\n─ Packages ───────────────────────────────────────────────────────────────────\n ! package           * version date (UTC) lib source\n P correlationfunnel * 0.2.0   2020-06-09 [?] CRAN (R 4.2.1)\n P dplyr             * 1.0.10  2022-09-01 [?] CRAN (R 4.2.0)\n P forcats           * 0.5.2   2022-08-19 [?] CRAN (R 4.2.1)\n P GGally            * 2.1.2   2021-06-21 [?] CRAN (R 4.2.1)\n P ggplot2           * 3.3.6   2022-05-03 [?] CRAN (R 4.2.1)\n P purrr             * 0.3.4   2020-04-17 [?] CRAN (R 4.2.1)\n P readr             * 2.1.2   2022-01-30 [?] CRAN (R 4.2.1)\n P readxl            * 1.4.1   2022-08-17 [?] CRAN (R 4.2.1)\n P sessioninfo       * 1.2.2   2021-12-06 [?] CRAN (R 4.2.1)\n P skimr             * 2.1.4   2022-04-15 [?] CRAN (R 4.2.1)\n P stringr           * 1.4.1   2022-08-20 [?] CRAN (R 4.2.1)\n P tibble            * 3.1.8   2022-07-22 [?] CRAN (R 4.2.1)\n P tidyr             * 1.2.0   2022-02-01 [?] CRAN (R 4.2.1)\n P tidyverse         * 1.3.2   2022-07-18 [?] CRAN (R 4.2.1)\n\n [1] C:/Users/David Zoller/AppData/Local/Temp/Rtmp8214Ne/renv-library-3314733b7c41\n [2] C:/Users/David Zoller/Documents/datadavidz.github.io/renv/library/R-4.2/x86_64-w64-mingw32\n [3] C:/Program Files/R/R-4.2.0/library\n\n P ── Loaded and on-disk path mismatch.\n\n──────────────────────────────────────────────────────────────────────────────\n```\n:::\n:::\n\n\n:::\n\n",
    "supporting": [
      "2022-08-26_ConcreteEDA_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}